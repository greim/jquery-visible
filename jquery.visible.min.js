(function(c){var b=c(window);c.fn.visible=function(p,l,r){if(this.length<1){return}var k=this.length>1?this.eq(0):this,s=k.get(0),q=b.height(),j=b.width(),r=(r)?r:"both",i=l===true?s.offsetWidth*s.offsetHeight:true,h=a(k)||d(k),n=h.top>=0&&h.top<q,g=h.bottom>0&&h.bottom<=q,o=h.left>=0&&h.left<j,e=h.right>0&&h.right<=j,m=p?n||g:n&&g,f=p?o||o:o&&e;if(r==="both"){return i&&m&&f}else{if(r==="vertical"){return i&&m}else{if(r==="horizontal"){return i&&f}}}};function a(e){var f=e[0];if(typeof f.getBoundingClientRect!=="function"){return}return f.getBoundingClientRect()}function d(n){var i=n.offset(),l=i.top,f=i.left,e=b.scrollTop(),h=b.scrollLeft(),k=l-e,g=f-h,j=n.height(),m=n.width();return{top:k,left:g,bottom:k+j,right:g+m}}})(jQuery);